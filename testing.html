<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live</title>

<style>
html,body{
  margin:0;
  background:#fff;
}

/* Top 16:9 container */
#container{
  width:100%;
  max-width:1100px;
  margin:12px auto 0;
  padding:6px;                /* black gap */
  background:#000;
  border:2px solid red;
  border-radius:10px;
}

#ratio{
  position:relative;
  width:100%;
  padding-top:56.25%;
  overflow:hidden;
  border-radius:6px;
}

iframe{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border:0;
}
</style>
</head>

<body>

<div id="container">
  <div id="ratio">
    <iframe
      id="player"
      allowfullscreen
      allow="autoplay; fullscreen; encrypted-media; picture-in-picture"
      sandbox="
        allow-scripts
        allow-same-origin
        allow-presentation
        allow-forms
        allow-popups
        allow-popups-to-escape-sandbox
        allow-top-navigation-by-user-activation
      ">
    </iframe>
  </div>
</div>

<script>
const DATA_URL = "https://allrounderlive.pages.dev/id.json";
const id = new URLSearchParams(location.search).get("id");

fetch(DATA_URL)
  .then(r => r.json())
  .then(list => {
    const ch = list.find(x => x.id === id);
    if (!ch) return;

    document.getElementById("player").src = ch.iframeSrc;

    // silent hit
    fetch(ch.hit).catch(()=>{});
  });
</script>

</body>
</html>
