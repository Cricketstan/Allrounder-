<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stream</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    background: #ffffff;
    width: 100%;
    height: 100%;
}

/* push player slightly down */
.page {
    padding-top: 18px;
}

/* 16:9 container */
.player-box {
    width: 100%;
    max-width: 960px;
    margin: 0 auto;
    position: relative;
    padding-top: 56.25%;
    background: #000; /* tiny black gap */
    border: 1px solid #38bdf8; /* sky blue outline */
}

/* iframe with tiny inner gap */
.player-box iframe {
    position: absolute;
    top: 0.6px;
    left: 0.6px;
    right: 0.6px;
    bottom: 0.6px;
    width: calc(100% - 1.2px);
    height: calc(100% - 1.2px);
    border: 0;
    background: #000;
}
</style>
</head>

<body>

<div class="page">
    <div class="player-box" id="player"></div>
</div>

<script>
(async () => {
    try {
        const res = await fetch("https://allrounderlive.pages.dev/id.json");
        const data = await res.json();

        const id = new URLSearchParams(location.search).get("id");
        const stream = data.iframes.find(x => x.id === id);

        if (!stream) throw "Invalid ID";

        document.getElementById("player").innerHTML = `
            <iframe
                src="${stream.iframeSrc}"
                allow="autoplay; encrypted-media"
                allowfullscreen>
            </iframe>
        `;
    } catch (e) {
        document.body.innerHTML =
            "<h3 style='text-align:center;margin-top:40px;'>Stream not found</h3>";
    }
})();
</script>

</body>
</html>
